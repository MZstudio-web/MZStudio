<!DOCTYPE html> <html lang="en"> <head> <meta charset="UTF-8"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <title>MZStudio – AI Content Generator</title> <style> body { font-family: "Poppins", sans-serif; background-image: url('https://images.unsplash.com/photo-1522202176988-66273c2fd55f?auto=format&fit=crop&w=2000&q=80'); background-size: cover; background-attachment: fixed; background-position: center; background-repeat: no-repeat; margin: 0; padding: 0; display: flex; flex-direction: column; align-items: center; color: #fff; position: relative; } /* Overlay for better contrast */ body::before { content: ""; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.45); backdrop-filter: blur(5px); z-index: -1; } header { text-align: center; margin-top: 80px; animation: fadeIn 1s ease-in-out; } @keyframes fadeIn { from { opacity: 0; transform: translateY(-20px); } to { opacity: 1; transform: translateY(0); } } h1 { font-size: 3rem; font-weight: 700; letter-spacing: 1px; } .mz { background: linear-gradient(90deg, #ff4b2b, #ff416c); -webkit-background-clip: text; -webkit-text-fill-color: transparent; text-shadow: 0 0 10px rgba(255, 65, 108, 0.6); animation: glowMZ 2s ease-in-out infinite alternate; } .studio { background: linear-gradient(90deg, #0072ff, #00c6ff); -webkit-background-clip: text; -webkit-text-fill-color: transparent; text-shadow: 0 0 10px rgba(0, 114, 255, 0.6); animation: glowStudio 2s ease-in-out infinite alternate; } @keyframes glowMZ { from { text-shadow: 0 0 8px rgba(255, 65, 108, 0.3); } to { text-shadow: 0 0 18px rgba(255, 65, 108, 0.8); } } @keyframes glowStudio { from { text-shadow: 0 0 8px rgba(0, 114, 255, 0.3); } to { text-shadow: 0 0 18px rgba(0, 114, 255, 0.8); } } .search-box { margin-top: 40px; display: flex; gap: 10px; width: 90%; max-width: 600px; } input[type="text"] { flex: 1; padding: 14px; border: none; border-radius: 30px; outline: none; font-size: 16px; backdrop-filter: blur(6px); background: rgba(255, 255, 255, 0.2); color: #fff; transition: all 0.3s; } input::placeholder { color: rgba(255, 255, 255, 0.7); } input:focus { background: rgba(255, 255, 255, 0.3); box-shadow: 0 0 10px rgba(0, 114, 255, 0.5); } button { background: linear-gradient(90deg, #007bff, #00c6ff); color: white; border: none; border-radius: 30px; padding: 14px 24px; cursor: pointer; font-size: 16px; transition: transform 0.2s, box-shadow 0.3s; } button:hover { transform: scale(1.05); box-shadow: 0 4px 12px rgba(0,123,255,0.6); } .results { margin-top: 50px; width: 90%; max-width: 900px; display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 20px; } .card { background: rgba(255, 255, 255, 0.15); border-radius: 16px; box-shadow: 0 4px 20px rgba(0,0,0,0.2); padding: 20px; backdrop-filter: blur(10px); color: #fff; transition: transform 0.3s, box-shadow 0.3s; } .card:hover { transform: translateY(-6px); box-shadow: 0 6px 25px rgba(0,0,0,0.4); } </style> <body> <header> <h1><span class="mz">MZ</span><span class="studio">Studio</span></h1> <div class="search-box"> <input id="topicInput" type="text" placeholder="Enter a topic..."> <button onclick="generatePost()">Search</button> </div> </div> </header> <div class="results" id="results"></div> <script><script>
async function generatePost() {
  const topic = document.getElementById("topicInput").value.trim();
  if (!topic) {
    alert("Please enter a topic!");
    return;
  }

  const newTab = window.open("", "_blank");
  if (!newTab) {
    alert("Browser blocked popup. Allow popups for this site and try again.");
    return;
  }

  newTab.document.write(`<h2>Generating content for: ${topic}</h2><p>Please wait...</p>`);
  newTab.document.close();

  try {
    const res = await fetch("/generate", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({ topic })  // ✅ ensures topic is safely sent
    });

    const data = await res.json();

    if (data.error) {
      newTab.document.body.innerHTML = `<h2>Error</h2><p>${data.error}</p>`;
      return;
    }

    const safePost = (data.post || "")
      .replaceAll("&", "&amp;")
      .replaceAll("<", "&lt;")
      .replaceAll(">", "&gt;")
      .replace(/\n/g, "<br>");

    newTab.document.body.innerHTML = `
      <h1>${topic}</h1>
      <div>${safePost}</div>
    `;
  } catch (err) {
    newTab.document.body.innerHTML = `<h2>Something went wrong</h2><p>${err.message}</p>`;
  }
}
</script>
  </body> </html>
